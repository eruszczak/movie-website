{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <h2 class="text-center">Edit your <a href="{{ object.get_absolute_url }}">profile</a></h2>
        <hr>
		<form action="" method="post" enctype="multipart/form-data">
			{% csrf_token %}
            <p class="inactiveLink">
                <a data-toggle="tooltip" title="If you will provide your IMDb Id and your lists are public, you will be able to update your ratings/watchlist using buttons on your profile page.">Why?</a>
            </p>
            <div id="div_id_imdb_id" class="form-group">
                <div class="form-group">
                <label class="sr-only" for="id_imdb_id">IMDb ID</label>
                    <div class="input-group">
                        <div class="input-group-addon">IMDb ID</div>
                        <input type="text" class="form-control textinput textInput form-control" id="id_imdb_id" placeholder="eg. ur1234567"
                               maxlength="15" name="imdb_id" value="{% if object.imdb_id %}{{ object.imdb_id }}{% endif %}">
                    </div>
                </div>
            </div>

            <hr>
            <p class="inactiveLink">
                <a data-toggle="tooltip" title="Do you want to import your existing IMDb ratings? If so, go to your IMDb Ratings List and at the bottom of the page you can export your ratings, then upload it here and you will be able to update your ratings using a button on your profile page.">Why?</a>
            </p>
            <div class="input-group">
                <label class="input-group-btn">
                    <span class="btn btn-info">
                        Upload ratings.csv
                        <input class="clearablefileinput hidden" id="id_csv_ratings" name="csv_ratings" type="file" accept=".csv">
                    </span>

                </label>
                <input id="previewRatings" type="text" class="form-control" value="{{ object.csv_ratings }}" readonly>
            </div>
            <div class="checkbox">
                <label><input id="csv_ratings-clear_id" name="csv_ratings-clear" type="checkbox">Clear ratings.csv</label>
            </div>

            <hr>
            <div class="input-group">
                <label class="input-group-btn">
                    <span class="btn btn-info">
                        Change avatar
                        <input class="clearablefileinput hidden" id="id_picture" name="picture" type="file" accept=".jpg,.png,.gif">
                    </span>
                </label>
                <input id="previewAvatar" type="text" class="form-control" value="{{ object.picture_filename }}" readonly>
            </div>
            <div class="checkbox">
                <label><input id="picture-clear_id" name="picture-clear" type="checkbox">Clear avatar</label>
            </div>

            <hr>
            <h4 class="text-left"><a href="{% url 'password-change-view' %}">Password change</a></h4>

            <hr>
            <p class="text-center">
                <input type="submit" value="Submit" class="btn btn-success"/>
            </p>
		</form>
    </div>
</div>
{% endblock %}